/*
 * This file was generated by the Gradle 'init' task.
 */

plugins {
    // Support convention plugins written in Groovy. Convention plugins are build scripts in 'src/main' that automatically become available as plugins in the main build.
    id 'groovy-gradle-plugin'
    id 'java-gradle-plugin'
}

repositories {
    mavenCentral()
    // Use the plugin portal to apply community plugins in convention plugins.
    gradlePluginPortal()
}

java {
    sourceCompatibility = JavaVersion.VERSION_17
    targetCompatibility = JavaVersion.VERSION_17
}

ext {
    javaFormatVersion='0.0.39'
    springVersion='6.1.1'
}
dependencies {
    implementation(platform("org.springframework:spring-framework-bom:${springVersion}"))
    implementation("com.diffplug.gradle:goomph:3.37.2")
    //implementation("com.fasterxml.jackson.core:jackson-databind:2.14.1")
    //implementation("com.gradle:gradle-enterprise-gradle-plugin:3.12.1")
    //implementation("com.tngtech.archunit:archunit:1.0.0")
    implementation("commons-codec:commons-codec:1.16.0")
    implementation("org.apache.maven:maven-embedder:3.9.6")
    implementation("org.asciidoctor:asciidoctor-gradle-jvm:3.3.2")
    implementation("org.gradle:test-retry-gradle-plugin:1.4.1")
    implementation("org.springframework:spring-core")
    //implementation("org.springframework:spring-web")
    implementation("io.spring.javaformat:spring-javaformat-formatter:${javaFormatVersion}")
    implementation("io.spring.javaformat:spring-javaformat-formatter-eclipse-runtime:${javaFormatVersion}")

}

gradlePlugin {
    plugins {
        mavenPluginPlugin {
            id = "net.entframework.maven-plugin"
            implementationClass = "net.entframework.build.mavenplugin.MavenPluginPlugin"
        }
        optionalDependenciesPlugin {
            id = "net.entframework.optional-dependencies"
            implementationClass = "net.entframework.build.optional.OptionalDependenciesPlugin"
        }
        mavenRepositoryPlugin {
            id = "net.entframework.maven-repository"
            implementationClass = "net.entframework.build.mavenplugin.MavenRepositoryPlugin"
        }
//        deployedPlugin {
//            id = "net.entframework.boot.deployed"
//            implementationClass = "net.entframework.build.mavenplugin.DeployedPlugin"
//        }
    }
}